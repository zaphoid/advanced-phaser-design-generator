<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Advanced Phaser Design Generator</title>
    <!-- Include Paper.js and Phaser.js libraries -->
    <script type="text/javascript" src="https://unpkg.com/paper@0.12.15/dist/paper-full.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>
    <!-- Link to the CSS file -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Top Menu Bar -->
    <nav class="top-menu">
        <div class="menu-item">
            File
            <div class="dropdown">
                <button id="new-file">New</button>
                <button id="open-file">Open</button>
                <button id="save-file">Save</button>
                <button id="export-code">Export</button>
            </div>
        </div>
        <div class="menu-item">
            Edit
            <div class="dropdown">
                <button id="undo-action">Undo</button>
                <button id="redo-action">Redo</button>
            </div>
        </div>
        <div class="menu-item">
            View
            <div class="dropdown">
                <button id="toggle-grid">Toggle Grid</button>
            </div>
        </div>
        <div class="menu-item">
            Help
            <div class="dropdown">
                <button id="open-help">User Instructions</button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Left Sidebar -->
        <aside class="sidebar left-sidebar">
            <div class="tool-buttons">
                <button class="tool-button" id="select-tool">Select</button>
                <button class="tool-button" id="line-tool">Line</button>
                <button class="tool-button" id="curve-tool">Curve</button>
                <button class="tool-button" id="rectangle-tool">Rectangle</button>
                <button class="tool-button" id="circle-tool">Circle</button>
            </div>
            <!-- Layers Manager -->
            <div class="layers-manager">
                <h3>Layers</h3>
                <ul id="layers-list"></ul>
                <button id="add-layer">Add Layer</button>
            </div>
        </aside>

        <!-- Canvas Area -->
        <main class="canvas-container">
            <canvas id="drawing-canvas" resize></canvas>
            <!-- Grid Overlay -->
            <div id="grid-overlay"></div>
        </main>

        <!-- Right Sidebar -->
        <aside class="sidebar right-sidebar">
            <h3>Object Properties</h3>
            <div id="properties-panel">
                <!-- Properties will be dynamically generated -->
            </div>
        </aside>
    </div>

    <!-- Modal Dialog for Code Viewing -->
    <div id="code-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="close-code-modal">&times;</span>
            <h2>Generated Phaser.js Code</h2>
            <pre id="phaser-code"></pre>
        </div>
    </div>

    <!-- Modal Dialog for Help -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="close-help-modal">&times;</span>
            <h2>User Instructions</h2>
            <div id="help-content">
                <!-- Help content goes here -->
                <h3>Using Drawing Tools</h3>
                <p>Select a tool from the left sidebar to start drawing.</p>
                <h3>Managing Layers</h3>
                <p>Use the Layers panel to add, delete, hide, or lock layers.</p>
                <h3>Exporting Phaser.js Code</h3>
                <p>Use the File > Export menu to generate Phaser.js code from your design.</p>
                <h3>Adjusting Object Properties</h3>
                <p>Select an object on the canvas to view and edit its properties in the right sidebar.</p>
                <h3>Editing Nodes and Curves</h3>
                <p>Use the Select tool to select an object and edit its nodes using the handles.</p>
            </div>
        </div>
    </div>

    <!-- Hidden File Input for Open Functionality -->
    <input type="file" id="file-input" accept=".json" style="display: none;">

    <!-- Include the main JavaScript file -->
    <script src="script.js"></script>
</body>
</html>
